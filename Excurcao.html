<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Excurção</title>
    <link rel="stylesheet" href="estilos.css" />
</head>
<body>
<br><br>
<div class="div2">
<form name="excurcao"  method="POST">
    <label> Nome: </label><br>
    <input type="text" placeholder="Digite o nome" name="nome"><br><br>
    <label> Idade:</label><br>
    <input type="number" placeholder="Idade" name="idade" /><br><br>
    
    <input type="submit" />
    <button type="button" title="Editar" id=btnExcluir disabled = "true"> Excluir</button>
</form>
</div>
<br>

        
<!--Listas-->
<div class="div2">
<h3>Adulto -  <span id="tAdulto"> </span> (maiores de 18 anos)</h3>
<ul1>
</ul1>
<br><br>
<h3>Estudante - <span id="tEstudante"></span></h3>
<ul2>
</ul2>
<br>
<h3>Total inscritos: <span id="total"> </span></h3>
</div>

<script>

    // Declaração das Variáveis //

    var listaNomes = [];
    var slNome = document.createElement("span");
    var slIdade = document.createElement("span");
    var novoLi 
    //= document.createElement("li");
    
    var lista1 = document.getElementsByTagName("ul1")[0];
    var lista2 = document.getElementsByTagName("ul2")[0];

    

    var sLista1 = document.querySelector("ul1");
    var sLista2 = document.querySelector("ul2");
    
    
    var liTotal = document.getElementById("total");
    var liAdulto = document.getElementById("tAdulto");
    var liEstudante = document.getElementById("tEstudante");
    var bEditar = document.getElementById("btnExcluir");
    
    var itens = lista1.getElementsByTagName('li');
    var itens2 = lista2.getElementsByTagName('li')
    var nome = document.forms.excurcao.nome.value;
    var idade = Number(document.forms.excurcao.idade.value);
       
    


    sLista1.addEventListener("click", selecItem);
    sLista2.addEventListener("click", selecItem);
    liAdulto.textContent = lista1.children.length;
    liEstudante.textContent = lista2.children.length;
    liTotal.textContent = lista1.childElementCount + lista2.childElementCount;
      
    document.forms.excurcao.addEventListener("submit", enviar);
   // bEditar.addEventListener("click", editItem);

    function enviar(e){
        e.preventDefault();
        console.log("Formulário enviado!");

        var nome = document.forms.excurcao.nome.value;
        var idade = Number(document.forms.excurcao.idade.value);
        console.log(nome, idade);

        var novaLista = { "nome": nome, "idade": idade };
        listaNomes.push(novaLista);


        novoLi = document.createElement("li");
        novoLi.textContent = novaLista.nome + " - " + novaLista.idade;



       for (i = 0; i < listaNomes.length; i++) {
            slNome.textContent = listaNomes[i].nome;
            slIdade.textContent = listaNomes[i].idade;
        }

        if(idade >= 18){
            lista1.appendChild(novoLi);
            liAdulto.textContent = lista1.children.length;
            
        }else{
            lista2.appendChild(novoLi);
            liEstudante.textContent = lista2.children.length;
            
        }


        liTotal.textContent = lista1.childElementCount + lista2.childElementCount;
        document.forms.excurcao.reset();
        document.forms.excurcao.nome.focus();
        bEditar.disabled = true;
    }

   

    function selecItem(e2){

        var i;
        for (i = 0; i < lista1.children.length; i++) {
            itens[i].style.color = "black";
        }
        
        for (i = 0; i < lista2.children.length; i++) {
            itens2[i].style.color = "black";
        }
     
        console.log("Item selecionado: ", slNome, slIdade);
        e2.srcElement.style.color = "red";

        document.forms.excurcao.nome.focus();
        bEditar.disabled = false;
        //console.log("Item a excluir: ", e2.target.textContent);
        
       // addEventListener("click", excluiItem(e2));
       // console.log("Excluir: ", sLista2(e2.srcElement));


       

        // novoLi.appendChild(sLista2);
    }


    function excluiItem(n) {

       

    
       
       // console.log("Elemento: ", listaNomes);
       // console.log(n.path); 
       // console.log("Elemento selecionado",n.path[0]);
       
        

    }


        
</script>
</body>
</html>