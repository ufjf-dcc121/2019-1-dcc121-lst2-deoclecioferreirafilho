<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Lista de Compras</title>
</head>

<body>
    <h1>Lista de Compras</h1>

    <form name="listaCompra" method="POST">
        <input type="number" name="quantidade" />
        <input type="text" name="item">
        <input type="submit" />

    </form>
    <br>
    <button id=Btnlimpar>Limpa a lista</button>
    <hi>Itens: <span id="total"></span></hi>
    <hi>Itenvar itens = lista.getElementsByTagName('li');pan id="conta"></span></hi>
    <ul>

    </ul>

    <script>var itens = lista.getElementsByTagName('li');
        var listaCompras = [];
        var lista = document.getElementsByTagName("ul")[0];
        var botaoLimpar = document.querySelector("#limpa");
        var liTotal = document.getElementById("total");
        liTotal.textContent = lista.children.length;

        document.forms.listaCompra.addEventListener("submit", processaEnvio);
        Btnlimpar.addEventListener("click", limpaLista);


        function processaEnvio(e) {
            e.preventDefault();
            console.log("FormulÃ¡rio enviado!");

            var quantidade = Number(document.forms.listaCompra.quantidade.value);
            var item = document.forms.listaCompra.item.value;
            console.log(quantidade, item);

            var novaCompra = { "quantidade": quantidade, "item": item };
            listaCompras.push(novaCompra);

            var novoLi = document.createElement("li");
            novoLi.textContent = novaCompra.quantidade + " - " + novaCompra.item;
            lista.appendChild(novoLi);
            liTotal.textContent = lista.children.length;
            document.forms.listaCompra.reset();
            document.forms.listaCompra.quantidade.focus();
            liconta.textContent = lista.childElementCount;
        }

        var liconta = document.getElementById("conta");


        var itens = lista.getElementsByTagName('li');
        var i = Number(lista.childElementCount);


        function limpaLista() {
            
            i = Number(lista.childElementCount);
           
            while (i > 0) 
            {
                lista.removeChild(itens[0]);
                i--;
                liconta.textContent = i;
            }


        }

    </script>



</body>

</html>